# IP addresses
alias ip="dig +short myip.opendns.com @resolver1.opendns.com"
alias localip="ipconfig getifaddr en0"
alias ips="ifconfig -a | grep -o 'inet6\? \(addr:\)\?\s\?\(\(\([0-9]\+\.\)\{3\}[0-9]\+\)\|[a-fA-F0-9:]\+\)' | awk '{ sub(/inet6? (addr:)? ?/, \"\"); print }'"

# Show active network interfaces
alias ifactive="ifconfig | pcregrep -M -o '^[^\t:]+:([^\n]|\n\t)*status: active'"

# Flush Directory Service cache
alias flush="sudo dscacheutil -flushcache && sudo killall -HUP mDNSResponder"

# Check ports
alias ports="lsof -i -P -n | grep LISTEN"


make_env() {
    conda create -n $1 python=3.11 -y
    conda activate $1
    uv pip install jupyterlab notebook pandas seaborn scikit-learn
    uv pip install torch torchvision
}

clean_cache() {
    conda clean --all -y
    pip cache purge
    uv cache clean
    brew cleanup --prune=all
}

convert_notebook() {
    jupyter nbconvert --no-prompt --to python $1
}

# Sync project with remote server
REMOTE_DIR_PATH="user@server:/path/to/project/"

rsync_push() {
    rsync -avu . "$REMOTE_DIR_PATH$(basename $PWD)/" --exclude='.git' --exclude-from='.gitignore'
}

rsync_pull() {
    rsync -avu "$REMOTE_DIR_PATH$(basename $PWD)/" . --exclude='.git' --exclude-from='.gitignore'
}

